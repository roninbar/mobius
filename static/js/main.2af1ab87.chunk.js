(this["webpackJsonpmoebius-web"]=this["webpackJsonpmoebius-web"]||[]).push([[0],{17:function(e,r,t){e.exports=t(24)},22:function(e,r,t){},23:function(e,r,t){},24:function(e,r,t){"use strict";t.r(r);var o,a,n=t(0),i=t.n(n),c=t(7),l=t.n(c),u=t(5),f=t(4),s=t(8),h=t(2),A=(t(22),function(e){return Object(s.a)(e,1)[0]}),d=[[0,0,1],[0,1,0],[1,1,0],[1,0,0]];function v(){var e=Object(n.useRef)(null);return Object(n.useEffect)((function(){var r,t=null===(r=e.current)||void 0===r?void 0:r.getContext("webgl");if(!t)throw new Error("Failed to get a WebGL context.");var n=g(t,0),i=n.positions,c=n.colors,l=n.count,u=g(t,2),s=u.positions,d=u.colors,v=u.count,E=function(e,r,t){var o=e.createProgram();if(!o)throw new Error("Failed to create program.");if(e.attachShader(o,p(e,e.VERTEX_SHADER,r)),e.attachShader(o,p(e,e.FRAGMENT_SHADER,t)),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var a="Unable to initialize the shader program: ".concat(e.getProgramInfoLog(o));throw e.deleteProgram(o),new Error(a)}return o}(t,A(o||(o=Object(f.a)(["\n        attribute vec4 aVertexPosition;\n        attribute vec4 aVertexColor;\n        uniform mat4 uModelViewMatrix;\n        uniform mat4 uProjectionMatrix;\n        varying lowp vec4 vColor;\n        void main(void) {\n          gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n          vColor = aVertexColor;\n        }\n      "]))),A(a||(a=Object(f.a)(["\n        varying lowp vec4 vColor;\n        void main(void) {\n          gl_FragColor = vColor;\n        }\n      "]))));t.useProgram(E),t.uniformMatrix4fv(t.getUniformLocation(E,"uModelViewMatrix"),!1,function(e){var r=h.a.create();return h.a.translate(r,r,[0,0,-e]),r}(4)),t.uniformMatrix4fv(t.getUniformLocation(E,"uProjectionMatrix"),!1,function(e,r,t,o,a){var n=h.a.create();return h.a.perspective(n,t,e/r,o,a),n}(t.canvas.width,t.canvas.height,Math.PI/5,.1,100)),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clearDepth(1),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.enable(t.CULL_FACE),t.cullFace(t.BACK),b(t,E,l/3,i,c),t.cullFace(t.FRONT),b(t,E,v/3,s,d)}),[]),i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("canvas",{width:"640px",height:"640px",ref:e}),i.a.createElement("p",null,"M\xf6bius Clock")))}function b(e,r,t,o,a){e.bindBuffer(e.ARRAY_BUFFER,o),e.vertexAttribPointer(e.getAttribLocation(r,"aVertexPosition"),3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(e.getAttribLocation(r,"aVertexPosition")),e.bindBuffer(e.ARRAY_BUFFER,a),e.vertexAttribPointer(e.getAttribLocation(r,"aVertexColor"),3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(e.getAttribLocation(r,"aVertexColor")),e.drawArrays(e.TRIANGLE_STRIP,0,t)}function g(e,r){var t=function(e){for(var r=[],t=[],o=.1,a=0;a<2;a++)for(var n=0;n<1.001;n+=1/30){var i=(a+n)*Math.PI,c=1.5*i-0,l=Math.cos(i),f=Math.sin(i),s=Math.cos(c),h=Math.sin(c),A=1-o*s,v=1+o*s,b=-o*h,g=.1*h;r.push(v*f,v*l,g),r.push(A*f,A*l,b);for(var p=new Array(3).fill(0),E=0;E<3;E++)p[E]=(1-n)*d[e+a][E]+n*d[(e+a+1)%d.length][E];t.push.apply(t,Object(u.a)(p).concat(Object(u.a)(p)))}return{positions:r,colors:t}}(r),o=t.positions,a=t.colors,n=e.createBuffer();if(!n)throw new Error("Failed to create position buffer.");e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array(o),e.STATIC_DRAW);var i=e.createBuffer();if(!i)throw new Error("Failed to create color buffer.");return e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,new Float32Array(a),e.STATIC_DRAW),{positions:n,colors:i,count:o.length}}function p(e,r,t){var o=e.createShader(r);if(!o)throw new Error("Failed to create shader.");if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){var a="An error occurred compiling the shaders: ".concat(e.getShaderInfoLog(o));throw e.deleteShader(o),new Error(a)}return o}t(23);l.a.render(i.a.createElement(v,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.2af1ab87.chunk.js.map