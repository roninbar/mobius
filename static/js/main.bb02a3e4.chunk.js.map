{"version":3,"sources":["App.tsx","index.tsx"],"names":["glsl","String","raw","GOLD","SILVER","COLORS","H","STEP","Math","PI","App","useState","theta","setTheta","anchor","setAnchor","mat4","create","modelMatrix","setModelMatrix","programWithTextureMapping","useRef","programWithoutTextureMapping","canvas","useEffect","gl","current","getContext","Error","vsSource","fsSource","program","buildProgram","attribs","position","getAttribLocation","color","textureCoords","uniforms","sampler","getUniformLocation","viewMatrix","projectionMatrix","makeProgramWithTextureMapping","normal","makeProgramWithoutTextureMapping","TEXTURE0","TEXTURE1","TEXTURE2","TEXTURE3","which","loadTexture","process","enable","DEPTH_TEST","depthFunc","LEQUAL","clearDepth","clearColor","CULL_FACE","cullFace","BACK","afid","requestAnimationFrame","f","time","cancelAnimationFrame","texProgram","texAttribs","texUniforms","nonTexProgram","nonTexAttribs","nonTexUniforms","perspective","width","height","fromTranslation","drawWithoutTexture","makeBuffers","faceToCull","topology","positionBuffer","normalBuffer","colorBuffer","useProgram","drawArrays","deleteBuffer","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","uniformMatrix4fv","scale","positions","normals","colors","t","push","cos","sin","mode","TRIANGLE_STRIP","first","count","length","makeFloatBufferFromArray","makeRimBuffers","FRONT","translate","makeDiscBuffers","vertexCounts","positionBuffers","colorBuffers","textureCoordBuffers","i","makeStripBuffers","vertexCount","uniform1i","bindAttribute","FLOAT","unbindAttribute","forEach","buffer","drawHand","angle","makeHandBuffers","rotateZ","r","h","norm","sqrt","nr","nh","makeHubcapBuffers","TRIANGLE_FAN","m","copy","rotateY","makeFrisbeeBuffers","className","ref","onPointerDown","currentTarget","pointerId","x","clientX","y","clientY","setPointerCapture","onPointerMove","dx","dy","distance","rot","fromRotation","mul","onPointerUp","releasePointerCapture","url","texture","createTexture","activeTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","Uint8Array","image","Image","onload","isPowerOf2","generateMipmap","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","LINEAR_MIPMAP_LINEAR","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","src","value","v","z","r0","r1","z0","z1","x0","x1","y0","y1","rr","textureCoordBuffer","torsion","piece","s","tt","nTwists","r2","k","makeStrip","array","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","positionAttrib","normalAttrib","colorAttrib","attrib","size","type","vertexAttribPointer","enableVertexAttribArray","disableVertexAttribArray","createProgram","attachShader","buildShader","VERTEX_SHADER","FRAGMENT_SHADER","linkProgram","getProgramParameter","LINK_STATUS","message","getProgramInfoLog","deleteProgram","source","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","name","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bb02a3e4.chunk.js","sourcesContent":["/* eslint-disable one-var */\r\n/* eslint-disable no-bitwise */\r\n\r\nimport { mat4 } from 'gl-matrix';\r\nimport React, { MutableRefObject, useEffect, useRef, useState } from 'react';\r\nimport './App.scss';\r\n\r\ninterface ProgramInfo {\r\n  program: WebGLProgram;\r\n  attribs: {\r\n    color: number;\r\n    position: number;\r\n  };\r\n  uniforms: {\r\n    modelMatrix: WebGLUniformLocation;\r\n    viewMatrix: WebGLUniformLocation;\r\n    projectionMatrix: WebGLUniformLocation;\r\n  };\r\n}\r\n\r\ntype NonTextureMappingProgramInfo = ProgramInfo & {\r\n  attribs: {\r\n    normal: number;\r\n  };\r\n};\r\n\r\ntype TextureMappingProgramInfo = ProgramInfo & {\r\n  attribs: {\r\n    textureCoords: number;\r\n  };\r\n  uniforms: {\r\n    sampler: WebGLSampler;\r\n  };\r\n};\r\n\r\ntype Primitive = {\r\n  mode: number;\r\n  first: number;\r\n  count: number;\r\n};\r\n\r\nconst glsl = String.raw;\r\n\r\nconst BLUE = [0, 0, 1];\r\nconst GREEN = [0, 1, 0];\r\nconst YELLOW = [1, 1, 0];\r\nconst RED = [1, 0, 0];\r\nconst GOLD = [1.0, 0.8, 0.5];\r\nconst SILVER = [0.75, 0.75, 0.75];\r\n\r\nconst COLORS = [BLUE, GREEN, YELLOW, RED];\r\n\r\nconst R = 1.0, H = 0.1;\r\nconst STEP = Math.PI / 36;\r\nconst EPSILON = 0.001;\r\n\r\nexport default function App() {\r\n\r\n  const [theta, setTheta] = useState(0); // The angle of the hour hand, in radians.\r\n  const [anchor, setAnchor] = useState<{ x: number, y: number; } | null>();\r\n  const [modelMatrix, setModelMatrix] = useState(mat4.create());\r\n\r\n  const programWithTextureMapping: MutableRefObject<TextureMappingProgramInfo | null> = useRef(null);\r\n  const programWithoutTextureMapping: MutableRefObject<NonTextureMappingProgramInfo | null> = useRef(null);\r\n\r\n  const canvas = useRef<HTMLCanvasElement>(null);\r\n\r\n  // #region Initialize WebGL stuff and start the animation.\r\n  useEffect(() => {\r\n\r\n    const gl = canvas.current?.getContext('webgl');\r\n\r\n    if (!gl) {\r\n      throw new Error('Failed to get a WebGL context.');\r\n    }\r\n\r\n    programWithTextureMapping.current = makeProgramWithTextureMapping(gl);\r\n    programWithoutTextureMapping.current = makeProgramWithoutTextureMapping(gl);\r\n\r\n    for (const which of [gl.TEXTURE0, gl.TEXTURE1, gl.TEXTURE2, gl.TEXTURE3]) {\r\n      loadTexture(gl, which, `${process.env.PUBLIC_URL}/texture/hours${which - gl.TEXTURE0}.bmp`);\r\n    }\r\n\r\n    gl.enable(gl.DEPTH_TEST);\r\n    gl.depthFunc(gl.LEQUAL);\r\n    gl.clearDepth(1);\r\n    gl.clearColor(0, 0, 0, 1);\r\n    gl.enable(gl.CULL_FACE);\r\n    gl.cullFace(gl.BACK);\r\n\r\n    let afid = requestAnimationFrame(function f(time) {\r\n      setTheta(time / 12000 * Math.PI);\r\n      // const now = new Date();\r\n      // setTheta(((now.getSeconds() / 60 + now.getMinutes()) / 60 + now.getHours()) / 6 * Math.PI);\r\n      afid = requestAnimationFrame(f);\r\n    });\r\n\r\n    return () => {\r\n      cancelAnimationFrame(afid);\r\n    };\r\n\r\n  }, []);\r\n  // #endregion\r\n\r\n  // #region Render one frame.\r\n  useEffect(() => {\r\n\r\n    const gl = canvas.current?.getContext('webgl');\r\n\r\n    if (!gl) {\r\n      throw new Error('Failed to get a WebGL context.');\r\n    }\r\n\r\n    if (!programWithTextureMapping.current || !programWithoutTextureMapping.current) {\r\n      throw new Error('Missing shader program!');\r\n    }\r\n\r\n    const { program: texProgram, attribs: texAttribs, uniforms: texUniforms } = programWithTextureMapping.current;\r\n    const { program: nonTexProgram, attribs: nonTexAttribs, uniforms: nonTexUniforms } = programWithoutTextureMapping.current;\r\n\r\n    const projectionMatrix = mat4.perspective(mat4.create(), Math.PI / 5, gl.canvas.width / gl.canvas.height, 0.1, 100);\r\n    const viewMatrix = mat4.fromTranslation(mat4.create(), [0, 0, -4]);\r\n\r\n    const drawWithoutTexture = function (\r\n      makeBuffers: (gl: WebGLRenderingContext) => { topology: Primitive[]; positionBuffer: WebGLBuffer; normalBuffer: WebGLBuffer; colorBuffer: WebGLBuffer; },\r\n      faceToCull: number\r\n    ) {\r\n      const { topology, positionBuffer, normalBuffer, colorBuffer } = makeBuffers(gl);\r\n      try {\r\n        gl.useProgram(nonTexProgram);\r\n        gl.cullFace(faceToCull);\r\n        drawArrays(gl, topology, nonTexAttribs.position, positionBuffer, nonTexAttribs.normal, normalBuffer, nonTexAttribs.color, colorBuffer);\r\n      } finally {\r\n        gl.deleteBuffer(colorBuffer);\r\n        gl.deleteBuffer(normalBuffer);\r\n        gl.deleteBuffer(positionBuffer);\r\n      }\r\n    };\r\n\r\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n    // #region Inside of Rim\r\n    {\r\n      gl.uniformMatrix4fv(nonTexUniforms.modelMatrix, false, mat4.scale(mat4.create(), modelMatrix, [1.2, 1.2, 1]));\r\n      gl.uniformMatrix4fv(nonTexUniforms.viewMatrix, false, viewMatrix);\r\n      gl.uniformMatrix4fv(nonTexUniforms.projectionMatrix, false, projectionMatrix);\r\n      const { topology, positionBuffer, normalBuffer, colorBuffer } = makeRimBuffers(gl);\r\n      try {\r\n        gl.useProgram(nonTexProgram);\r\n        gl.cullFace(gl.FRONT);\r\n        drawArrays(gl, topology, nonTexAttribs.position, positionBuffer, nonTexAttribs.normal, normalBuffer, nonTexAttribs.color, colorBuffer);\r\n      } finally {\r\n        gl.deleteBuffer(colorBuffer);\r\n        gl.deleteBuffer(normalBuffer);\r\n        gl.deleteBuffer(colorBuffer);\r\n      }\r\n    }\r\n    // #endregion\r\n\r\n    // #region Clock Face\r\n    gl.uniformMatrix4fv(nonTexUniforms.modelMatrix, false, mat4.translate(mat4.create(), modelMatrix, [0, 0, -0.2]));\r\n    drawWithoutTexture(makeDiscBuffers, gl.BACK);\r\n    // #endregion\r\n\r\n    // #region Hours Strip\r\n    const vertexCounts: number[] = [];\r\n    const positionBuffers: WebGLBuffer[] = [];\r\n    const colorBuffers: WebGLBuffer[] = [];\r\n    const textureCoordBuffers: WebGLBuffer[] = [];\r\n\r\n    for (let i = 0; i < 4; i++) (\r\n      {\r\n        vertexCount: vertexCounts[i],\r\n        positions: positionBuffers[i],\r\n        colors: colorBuffers[i],\r\n        textureCoords: textureCoordBuffers[i],\r\n      } = makeStripBuffers(gl, theta, i)\r\n    );\r\n\r\n    try {\r\n      gl.useProgram(texProgram);\r\n      gl.uniformMatrix4fv(programWithTextureMapping.current.uniforms.modelMatrix, false, modelMatrix);\r\n      gl.uniformMatrix4fv(programWithTextureMapping.current.uniforms.viewMatrix, false, viewMatrix);\r\n      gl.uniformMatrix4fv(programWithTextureMapping.current.uniforms.projectionMatrix, false, projectionMatrix);\r\n      for (let i = 0; i < 4; i++) {\r\n        gl.uniform1i(texUniforms.sampler, i);\r\n        bindAttribute(gl, texAttribs.position, positionBuffers[i], 3, gl.FLOAT);\r\n        bindAttribute(gl, texAttribs.color, colorBuffers[i], 3, gl.FLOAT);\r\n        bindAttribute(gl, texAttribs.textureCoords, textureCoordBuffers[i], 2, gl.FLOAT);\r\n        try {\r\n          gl.cullFace(gl.BACK);\r\n          gl.drawArrays(gl.TRIANGLE_STRIP, 0, vertexCounts[i]);\r\n        } finally {\r\n          unbindAttribute(gl, texAttribs.textureCoords);\r\n          unbindAttribute(gl, texAttribs.color);\r\n          unbindAttribute(gl, texAttribs.position);\r\n        }\r\n      }\r\n    } finally {\r\n      [...positionBuffers, ...colorBuffers, ...textureCoordBuffers].forEach((buffer) => gl.deleteBuffer(buffer));\r\n    }\r\n    // #endregion\r\n\r\n    // #region Hands\r\n    const drawHand = function (height: number, width: number, length: number, angle: number) {\r\n      const { vertexCount, positions, normals, colors } = makeHandBuffers(gl, height, width, length);\r\n      try {\r\n        gl.useProgram(nonTexProgram);\r\n        gl.uniformMatrix4fv(nonTexUniforms.modelMatrix, false, mat4.rotateZ(mat4.create(), modelMatrix, -angle));\r\n        gl.uniformMatrix4fv(nonTexUniforms.viewMatrix, false, viewMatrix);\r\n        gl.uniformMatrix4fv(nonTexUniforms.projectionMatrix, false, projectionMatrix);\r\n        bindAttribute(gl, nonTexAttribs.position, positions, 3, gl.FLOAT);\r\n        bindAttribute(gl, nonTexAttribs.normal, normals, 3, gl.FLOAT);\r\n        bindAttribute(gl, nonTexAttribs.color, colors, 3, gl.FLOAT);\r\n        try {\r\n          gl.drawArrays(gl.TRIANGLE_STRIP, 0, vertexCount);\r\n        } finally {\r\n          unbindAttribute(gl, nonTexAttribs.color);\r\n          unbindAttribute(gl, nonTexAttribs.normal);\r\n          unbindAttribute(gl, nonTexAttribs.position);\r\n        }\r\n      } finally {\r\n        gl.deleteBuffer(colors);\r\n        gl.deleteBuffer(normals);\r\n        gl.deleteBuffer(positions);\r\n      }\r\n    };\r\n\r\n    drawHand(0.01, 0.02, 0.6, theta); // Hours\r\n    drawHand(0.02, 0.02, 0.8, 12 * theta); // Minutes\r\n    // #endregion\r\n\r\n    // #region Hubcap\r\n    const { vertexCount, positions, normals, colors } = makeHubcapBuffers(gl, 0.03);\r\n    try {\r\n      gl.useProgram(nonTexProgram);\r\n      gl.uniformMatrix4fv(nonTexUniforms.modelMatrix, false, modelMatrix);\r\n      gl.uniformMatrix4fv(nonTexUniforms.viewMatrix, false, viewMatrix);\r\n      gl.uniformMatrix4fv(nonTexUniforms.projectionMatrix, false, projectionMatrix);\r\n      bindAttribute(gl, nonTexAttribs.position, positions, 3, gl.FLOAT);\r\n      bindAttribute(gl, nonTexAttribs.normal, normals, 3, gl.FLOAT);\r\n      bindAttribute(gl, nonTexAttribs.color, colors, 3, gl.FLOAT);\r\n      try {\r\n        gl.drawArrays(gl.TRIANGLE_FAN, 0, vertexCount);\r\n      } finally {\r\n        unbindAttribute(gl, nonTexAttribs.position);\r\n        unbindAttribute(gl, nonTexAttribs.color);\r\n      }\r\n    } finally {\r\n      gl.deleteBuffer(colors);\r\n      gl.deleteBuffer(positions);\r\n    }\r\n    // #endregion\r\n\r\n    // #region Back of Case\r\n    const m = mat4.copy(mat4.create(), modelMatrix);\r\n    mat4.translate(m, m, [0, 0, -H]);\r\n    mat4.rotateY(m, m, Math.PI);\r\n    mat4.scale(m, m, [1.2, 1.2, 0.24]);\r\n    gl.uniformMatrix4fv(nonTexUniforms.modelMatrix, false, m);\r\n    drawWithoutTexture(makeFrisbeeBuffers, gl.BACK);\r\n    // #endregion\r\n\r\n  }, [theta, modelMatrix]);\r\n  // #endregion\r\n\r\n  // #region Event Handlers \r\n  const onPointerDown = ({ currentTarget, pointerId, clientX: x, clientY: y }: React.PointerEvent<HTMLCanvasElement>): void => {\r\n    currentTarget.setPointerCapture(pointerId);\r\n    setAnchor({ x, y });\r\n  };\r\n\r\n  const onPointerUp = ({ currentTarget, pointerId }: React.PointerEvent<HTMLCanvasElement>): void => {\r\n    setAnchor(null);\r\n    currentTarget.releasePointerCapture(pointerId);\r\n  };\r\n\r\n  const onPointerMove = ({ clientX: x, clientY: y }: React.PointerEvent<HTMLCanvasElement>): void => {\r\n    if (anchor) {\r\n      const dx = x - anchor.x;\r\n      const dy = y - anchor.y;\r\n      const distance = Math.sqrt(dx * dx + dy * dy);\r\n      if (distance > 0) {\r\n        const rot = mat4.fromRotation(mat4.create(), 0.01 * distance, [dy, dx, 0]);\r\n        setModelMatrix(mat4.mul(mat4.create(), rot, modelMatrix));\r\n        setAnchor({ x, y });\r\n      }\r\n    }\r\n  };\r\n  // #endregion\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <canvas\r\n          width=\"768px\"\r\n          height=\"768px\"\r\n          ref={canvas}\r\n          onPointerDown={onPointerDown}\r\n          onPointerMove={onPointerMove}\r\n          onPointerUp={onPointerUp}\r\n        />\r\n        <p>M&ouml;bius Clock</p>\r\n      </header>\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nfunction loadTexture(gl: WebGLRenderingContext, which: number, url: string) {\r\n  const texture = gl.createTexture();\r\n\r\n  // Because images have to be downloaded over the internet\r\n  // they might take a moment until they are ready.\r\n  // Until then put a single pixel in the texture so we can\r\n  // use it immediately. When the image has finished downloading\r\n  // we'll update the texture with the contents of the image.\r\n  gl.activeTexture(which);\r\n  gl.bindTexture(gl.TEXTURE_2D, texture);\r\n  gl.texImage2D(\r\n    gl.TEXTURE_2D,\r\n    0, // level\r\n    gl.RGBA,\r\n    1, // width\r\n    1, // height\r\n    0, // border\r\n    gl.RGBA,\r\n    gl.UNSIGNED_BYTE,\r\n    new Uint8Array([255, 255, 255, 255]), // opaque white\r\n  );\r\n\r\n  const image = new Image();\r\n  image.onload = () => {\r\n    gl.activeTexture(which);\r\n    gl.bindTexture(gl.TEXTURE_2D, texture);\r\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\r\n\r\n    // WebGL1 has different requirements for power of 2 images\r\n    // vs non power of 2 images so check if the image is a\r\n    // power of 2 in both dimensions.\r\n    if (isPowerOf2(image.width) && isPowerOf2(image.height)) {\r\n      // Yes, it's a power of 2. Generate mips.\r\n      gl.generateMipmap(gl.TEXTURE_2D);\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);\r\n    } else {\r\n      // No, it's not a power of 2. Turn off mips and set\r\n      // wrapping to clamp to edge.\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n    }\r\n  };\r\n  image.src = url;\r\n\r\n  return texture;\r\n}\r\n\r\nfunction isPowerOf2(value: number) {\r\n  return (value & (value - 1)) === 0;\r\n}\r\n\r\nfunction makeFrisbeeBuffers(gl: WebGLRenderingContext) {\r\n  const topology: Primitive[] = [];\r\n  const positions = [0, 0, R];\r\n  const normals = [0, 0, 1];\r\n  const colors = [...GOLD];\r\n\r\n  let first = 0, v = 1;\r\n\r\n  const r = R * Math.sin(STEP);\r\n  const z = R * Math.cos(STEP);\r\n\r\n  for (let f = -Math.PI; f < Math.PI + EPSILON; f += STEP, v++) {\r\n    const x = r * Math.cos(f), y = r * Math.sin(f);\r\n\r\n    positions.push(x, y, z);\r\n    normals.push(x, y, z);\r\n    colors.push(...GOLD);\r\n  }\r\n\r\n  topology.push({ mode: gl.TRIANGLE_FAN, first, count: v - first });\r\n  first = v;\r\n\r\n  for (let t = STEP; t < 0.5 * Math.PI - EPSILON; t += STEP) {\r\n    const r0 = R * Math.sin(t), r1 = R * Math.sin(t + STEP);\r\n    const z0 = R * Math.cos(t), z1 = R * Math.cos(t + STEP);\r\n\r\n    for (let f = -Math.PI; f < Math.PI + EPSILON; f += STEP, v += 2) {\r\n      const x0 = r0 * Math.cos(f), x1 = r1 * Math.cos(f);\r\n      const y0 = r0 * Math.sin(f), y1 = r1 * Math.sin(f);\r\n\r\n      positions.push(x0, y0, z0);\r\n      normals.push(x0, y0, z0);\r\n      colors.push(...GOLD);\r\n\r\n      positions.push(x1, y1, z1);\r\n      normals.push(x1, y1, z1);\r\n      colors.push(...GOLD);\r\n    }\r\n\r\n    topology.push({ mode: gl.TRIANGLE_STRIP, first, count: v - first });\r\n    first = v;\r\n  }\r\n\r\n  return {\r\n    topology,\r\n    positionBuffer: makeFloatBufferFromArray(gl, positions),\r\n    normalBuffer: makeFloatBufferFromArray(gl, normals),\r\n    colorBuffer: makeFloatBufferFromArray(gl, colors),\r\n  };\r\n}\r\n\r\nfunction makeRimBuffers(gl: WebGLRenderingContext) {\r\n  const topology: Primitive[] = [];\r\n  const positions = [];\r\n  const normals = [];\r\n  const colors = [];\r\n  for (let t = 0; t < 2 * Math.PI + EPSILON; t += STEP) {\r\n    positions.push(R * Math.cos(t), R * Math.sin(t), +H);\r\n    normals.push(Math.cos(t), Math.sin(t), 0);\r\n    colors.push(...GOLD);\r\n    positions.push(R * Math.cos(t), R * Math.sin(t), -H);\r\n    normals.push(Math.cos(t), Math.sin(t), 0);\r\n    colors.push(...GOLD);\r\n  }\r\n  topology.push({ mode: gl.TRIANGLE_STRIP, first: 0, count: positions.length / 3 });\r\n  return {\r\n    topology,\r\n    positionBuffer: makeFloatBufferFromArray(gl, positions),\r\n    normalBuffer: makeFloatBufferFromArray(gl, normals),\r\n    colorBuffer: makeFloatBufferFromArray(gl, colors),\r\n  };\r\n}\r\n\r\nfunction makeDiscBuffers(gl: WebGLRenderingContext) {\r\n  const topology: Primitive[] = [];\r\n  const positions = [0, 0, 0];\r\n  const colors = [0.25, 0.25, 0.25];\r\n  const normals = [0, 0, 1];\r\n  const textureCoords = [0, 0];\r\n\r\n  const r = 1;\r\n  const dr = r / 6;\r\n\r\n  let first = 0, v = 1;\r\n  for (let t = 0; t < 2 * Math.PI + 0.001; t += Math.PI / 36, v++) {\r\n    const x = dr * Math.cos(t);\r\n    const y = dr * Math.sin(t);\r\n    positions.push(x, y, 0);\r\n    normals.push(0, 0, 1);\r\n    colors.push(colors[0], colors[1], colors[2]);\r\n    textureCoords.push(x / r, y / r);\r\n  }\r\n  topology.push({ mode: gl.TRIANGLE_FAN, first, count: v - first });\r\n  first = v;\r\n\r\n  for (let rr = dr; rr < r - 0.001; rr += dr) {\r\n    for (let t = 0; t < 2 * Math.PI + 0.001; t += Math.PI / 36, v += 2) {\r\n      const x0 = rr * Math.cos(t), y0 = rr * Math.sin(t);\r\n      positions.push(x0, y0, 0);\r\n      normals.push(0, 0, 1);\r\n      colors.push(colors[0], colors[1], colors[2]);\r\n      textureCoords.push(x0 / r, y0 / r);\r\n\r\n      const x1 = (rr + dr) * Math.cos(t), y1 = (rr + dr) * Math.sin(t);\r\n      positions.push(x1, y1, 0);\r\n      normals.push(0, 0, 1);\r\n      colors.push(colors[0], colors[1], colors[2]);\r\n      textureCoords.push(x1 / r, y1 / r);\r\n    }\r\n    topology.push({ mode: gl.TRIANGLE_STRIP, first, count: v - first });\r\n    first = v;\r\n  }\r\n\r\n  return {\r\n    topology,\r\n    positionBuffer: makeFloatBufferFromArray(gl, positions),\r\n    normalBuffer: makeFloatBufferFromArray(gl, normals),\r\n    colorBuffer: makeFloatBufferFromArray(gl, colors),\r\n    textureCoordBuffer: makeFloatBufferFromArray(gl, textureCoords),\r\n  };\r\n}\r\n\r\nfunction makeHubcapBuffers(gl: WebGLRenderingContext, height: number) {\r\n  const r = 0.05;\r\n  const h = 0.01;\r\n  const norm = Math.sqrt(r * r + h * h);\r\n  const nr = r / norm;\r\n  const nh = h / norm;\r\n  const positions = [0, 0, height + h];\r\n  const normals = [0, 0, 1];\r\n  const colors = [...SILVER];\r\n  for (let t = 0; t < 2 * Math.PI; t += Math.PI / 30) {\r\n    positions.push(r * Math.cos(t), r * Math.sin(t), height);\r\n    normals.push(nh * Math.cos(t), nh * Math.sin(t), nr);\r\n    colors.push(...SILVER);\r\n  }\r\n  const vertexCount = positions.length / 3;\r\n  return {\r\n    vertexCount,\r\n    positions: makeFloatBufferFromArray(gl, positions),\r\n    normals: makeFloatBufferFromArray(gl, normals),\r\n    colors: makeFloatBufferFromArray(gl, colors),\r\n  };\r\n}\r\n\r\nfunction makeHandBuffers(gl: WebGLRenderingContext, height: number, width: number, length: number) {\r\n  return {\r\n    vertexCount: 4,\r\n    positions: makeFloatBufferFromArray(gl, [\r\n      -width, -0.2 * length, height,\r\n      +width, -0.2 * length, height,\r\n      -width, length, height,\r\n      +width, length, height,\r\n    ]),\r\n    normals: makeFloatBufferFromArray(gl, [\r\n      0, 0, 1,\r\n      0, 0, 1,\r\n      0, 0, 1,\r\n      0, 0, 1,\r\n    ]),\r\n    colors: makeFloatBufferFromArray(gl, [\r\n      ...SILVER,\r\n      ...SILVER,\r\n      ...SILVER,\r\n      ...SILVER,\r\n    ]),\r\n  };\r\n}\r\n\r\nfunction makeStripBuffers(gl: WebGLRenderingContext, torsion: number, piece: number) {\r\n  const { positions, colors, textureCoords } = makeStrip(torsion, piece);\r\n  return {\r\n    vertexCount: positions.length / 3,\r\n    positions: makeFloatBufferFromArray(gl, positions),\r\n    colors: makeFloatBufferFromArray(gl, colors),\r\n    textureCoords: makeFloatBufferFromArray(gl, textureCoords),\r\n  };\r\n}\r\n\r\nfunction makeStrip(theta: number, piece: number) {\r\n  const textureCoords: number[] = [];\r\n  const positions: number[] = [];\r\n  const colors: number[] = [];\r\n  const nTwists = 3;\r\n  for (let s = 0.0; s < 1.001; s += 0.033333) {\r\n    const t = (piece + s) * Math.PI;\r\n    const tt = nTwists * 0.5 * (t - theta);\r\n    // Position\r\n    const r1 = R + H * Math.cos(tt);\r\n    const r2 = R - H * Math.cos(tt);\r\n    positions.push(r1 * Math.sin(t), r1 * Math.cos(t), -H * Math.sin(tt));\r\n    positions.push(r2 * Math.sin(t), r2 * Math.cos(t), +H * Math.sin(tt));\r\n    // Color\r\n    const color = [0, 0, 0];\r\n    for (let k = 0; k < 3; k++) {\r\n      color[k] = (1 - s) * COLORS[piece][k] + s * COLORS[(piece + 1) % COLORS.length][k];\r\n    }\r\n    colors.push(...color, ...color);\r\n    // Texture Coordinates\r\n    textureCoords.push(s, 0, s, 1);\r\n  }\r\n  return { positions, colors, textureCoords };\r\n}\r\n\r\nfunction makeFloatBufferFromArray(gl: WebGLRenderingContext, array: number[]) {\r\n  const buffer = gl.createBuffer();\r\n  if (!buffer) {\r\n    throw new Error('Failed to create buffer.');\r\n  }\r\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\r\n  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(array), gl.STATIC_DRAW);\r\n  return buffer;\r\n}\r\n\r\nfunction drawArrays(\r\n  gl: WebGLRenderingContext,\r\n  topology: Primitive[],\r\n  positionAttrib: number,\r\n  positionBuffer: WebGLBuffer,\r\n  normalAttrib: number,\r\n  normalBuffer: WebGLBuffer,\r\n  colorAttrib: number,\r\n  colorBuffer: WebGLBuffer,\r\n) {\r\n  bindAttribute(gl, positionAttrib, positionBuffer, 3, gl.FLOAT);\r\n  bindAttribute(gl, normalAttrib, normalBuffer, 3, gl.FLOAT);\r\n  bindAttribute(gl, colorAttrib, colorBuffer, 3, gl.FLOAT);\r\n  try {\r\n    for (const { mode, first, count } of topology) {\r\n      gl.drawArrays(mode, first, count);\r\n    }\r\n  } finally {\r\n    unbindAttribute(gl, colorAttrib);\r\n    unbindAttribute(gl, normalAttrib);\r\n    unbindAttribute(gl, positionAttrib);\r\n  }\r\n}\r\n\r\nfunction bindAttribute(gl: WebGLRenderingContext, attrib: number, buffer: WebGLBuffer, size: number, type: number) {\r\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\r\n  gl.vertexAttribPointer(attrib, size, type, false, 0, 0);\r\n  gl.enableVertexAttribArray(attrib);\r\n}\r\n\r\nfunction unbindAttribute(gl: WebGLRenderingContext, attrib: number) {\r\n  gl.disableVertexAttribArray(attrib);\r\n}\r\n\r\nfunction makeProgramWithoutTextureMapping(gl: WebGLRenderingContext) {\r\n  const U_MODEL_MATRIX = 'uModelMatrix';\r\n  const U_VIEW_MATRIX = 'uViewMatrix';\r\n  const U_PROJECTION_MATRIX = 'uProjectionMatrix';\r\n  const A_POSITION = 'aPosition';\r\n  const A_NORMAL = 'aNormal';\r\n  const A_COLOR = 'aColor';\r\n  const V_COLOR = 'vColor';\r\n  const V_LIGHTING = 'vLighting';\r\n\r\n  const vsSource = glsl`\r\n    // Uniforms\r\n    uniform mat4 ${U_MODEL_MATRIX};\r\n    uniform mat4 ${U_VIEW_MATRIX};\r\n    uniform mat4 ${U_PROJECTION_MATRIX};\r\n    // Attributes\r\n    attribute vec4 ${A_POSITION};\r\n    attribute vec3 ${A_NORMAL};\r\n    attribute vec4 ${A_COLOR};\r\n    // Varyings\r\n    varying lowp vec4 ${V_COLOR};\r\n    varying lowp vec3 ${V_LIGHTING};\r\n    // Program\r\n    void main(void) {\r\n      // Apply lighting\r\n      highp vec3 ambientLightColor = vec3(0.3, 0.3, 0.3);\r\n      highp vec3 directionalLightColor = vec3(1, 1, 1);\r\n      highp vec3 directionalLightVector = normalize(vec3(0.85, 0.8, 0.75));\r\n      highp vec4 transformedNormal = normalize(${U_VIEW_MATRIX} * ${U_MODEL_MATRIX} * vec4(${A_NORMAL}, 0));\r\n      highp float directionalLightIntensity = max(0.0, dot(directionalLightVector, transformedNormal.xyz));\r\n      ${V_LIGHTING} = ambientLightColor + directionalLightIntensity * directionalLightColor;\r\n      ${V_COLOR} = ${A_COLOR};\r\n      gl_Position = ${U_PROJECTION_MATRIX} * ${U_VIEW_MATRIX} * ${U_MODEL_MATRIX} * ${A_POSITION};\r\n    }\r\n  `;\r\n\r\n  const fsSource = glsl`\r\n    // Varyings\r\n    varying lowp vec4 ${V_COLOR};\r\n    varying lowp vec3 ${V_LIGHTING};\r\n    // Program\r\n    void main(void) {\r\n      gl_FragColor = ${V_COLOR} * vec4(${V_LIGHTING}, 1.0);\r\n    }\r\n  `;\r\n\r\n  const program = buildProgram(gl, vsSource, fsSource);\r\n\r\n  return {\r\n    program,\r\n    attribs: {\r\n      position: gl.getAttribLocation(program, A_POSITION),\r\n      normal: gl.getAttribLocation(program, A_NORMAL),\r\n      color: gl.getAttribLocation(program, A_COLOR),\r\n    },\r\n    uniforms: {\r\n      modelMatrix: getUniformLocation(gl, program, U_MODEL_MATRIX),\r\n      viewMatrix: getUniformLocation(gl, program, U_VIEW_MATRIX),\r\n      projectionMatrix: getUniformLocation(gl, program, U_PROJECTION_MATRIX),\r\n    },\r\n  };\r\n}\r\n\r\nfunction makeProgramWithTextureMapping(gl: WebGLRenderingContext) {\r\n  const U_MODEL_MATRIX = 'uModelMatrix';\r\n  const U_VIEW_MATRIX = 'uViewMatrix';\r\n  const U_PROJECTION_MATRIX = 'uProjectionMatrix';\r\n  const U_SAMPLER = 'uSampler';\r\n  const A_POSITION = 'aPosition';\r\n  const A_COLOR = 'aColor';\r\n  const A_TEXTURE_COORDS = 'aTextureCoords';\r\n  const V_COLOR = 'vColor';\r\n  const V_TEXTURE_COORDS = 'vTextureCoords';\r\n\r\n  const vsSource = glsl`\r\n    // Attributes\r\n    attribute vec4 ${A_POSITION};\r\n    attribute vec4 ${A_COLOR};\r\n    attribute vec2 ${A_TEXTURE_COORDS};\r\n    // Uniforms\r\n    uniform mat4 ${U_MODEL_MATRIX};\r\n    uniform mat4 ${U_VIEW_MATRIX};\r\n    uniform mat4 ${U_PROJECTION_MATRIX};\r\n    // Varyings\r\n    varying lowp vec4 ${V_COLOR};\r\n    varying highp vec2 ${V_TEXTURE_COORDS};\r\n    // Program\r\n    void main(void) {\r\n      gl_Position = ${U_PROJECTION_MATRIX} * ${U_VIEW_MATRIX} * ${U_MODEL_MATRIX} * ${A_POSITION};\r\n      ${V_COLOR} = ${A_COLOR};\r\n      ${V_TEXTURE_COORDS} = ${A_TEXTURE_COORDS};\r\n    }\r\n  `;\r\n\r\n  const fsSource = glsl`\r\n    // Varyings\r\n    varying lowp vec4 ${V_COLOR};\r\n    varying highp vec2 ${V_TEXTURE_COORDS};\r\n    // Uniforms\r\n    uniform sampler2D ${U_SAMPLER};\r\n    // Program\r\n    void main(void) {\r\n      gl_FragColor = ${V_COLOR} * texture2D(${U_SAMPLER}, ${V_TEXTURE_COORDS});\r\n    }\r\n  `;\r\n\r\n  const program = buildProgram(gl, vsSource, fsSource);\r\n\r\n  return {\r\n    program,\r\n    attribs: {\r\n      position: gl.getAttribLocation(program, A_POSITION),\r\n      color: gl.getAttribLocation(program, A_COLOR),\r\n      textureCoords: gl.getAttribLocation(program, A_TEXTURE_COORDS),\r\n    },\r\n    uniforms: {\r\n      sampler: getUniformLocation(gl, program, U_SAMPLER),\r\n      modelMatrix: getUniformLocation(gl, program, U_MODEL_MATRIX),\r\n      viewMatrix: getUniformLocation(gl, program, U_VIEW_MATRIX),\r\n      projectionMatrix: getUniformLocation(gl, program, U_PROJECTION_MATRIX),\r\n    },\r\n  };\r\n}\r\n\r\nfunction buildProgram(gl: WebGLRenderingContext, vsSource: string, fsSource: string) {\r\n  const program = gl.createProgram();\r\n\r\n  if (!program) {\r\n    throw new Error('Failed to create program.');\r\n  }\r\n\r\n  gl.attachShader(program, buildShader(gl, gl.VERTEX_SHADER, vsSource));\r\n  gl.attachShader(program, buildShader(gl, gl.FRAGMENT_SHADER, fsSource));\r\n  gl.linkProgram(program);\r\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\r\n    const message = `Unable to initialize the shader program: ${gl.getProgramInfoLog(program)}`;\r\n    gl.deleteProgram(program);\r\n    throw new Error(message);\r\n  }\r\n\r\n  return program;\r\n}\r\n\r\nfunction buildShader(gl: WebGLRenderingContext, type: number, source: string) {\r\n  const shader = gl.createShader(type);\r\n  if (!shader) {\r\n    throw new Error('Failed to create shader.');\r\n  }\r\n  gl.shaderSource(shader, source);\r\n  gl.compileShader(shader);\r\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n    const message = `An error occurred compiling the shaders: ${gl.getShaderInfoLog(shader)}`;\r\n    gl.deleteShader(shader);\r\n    throw new Error(message);\r\n  }\r\n  return shader;\r\n}\r\n\r\nfunction getUniformLocation(gl: WebGLRenderingContext, program: WebGLProgram, name: string): WebGLUniformLocation {\r\n  return gl.getUniformLocation(program, name) || error(`No uniform named \"${name}\" was found.`);\r\n}\r\n\r\nfunction error<T>(message: string): T {\r\n  throw new Error(message);\r\n}\r\n\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.scss'\r\n\r\n// You need bootstrap? $ yarn add bootstrap\r\n// See: https://create-react-app.dev/docs/adding-bootstrap\r\n// import 'bootstrap/dist/css/bootstrap.css';\r\n\r\n// Single-page application (SPA)\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\n// If you want to Pre-render with react-snap\r\n// Step 1: install $ yarn add --dev react-snap\r\n// Step 2: add to package.json run script: \"postbuild\": \"react-snap\"\r\n// Step 3: Add to package.json: \"reactSnap\":{\"inlineCss\":true}\r\n// Step 3: replace to the script below.\r\n\r\n/*\r\nimport { hydrate, render } from 'react-dom'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nconst rootElement = document.getElementById('root')\r\nif (rootElement && rootElement!.hasChildNodes()) {\r\n  hydrate(<AppRouter />, rootElement)\r\n\r\n  // Precache - set to 'register' once you Pre-render\r\n  // If you want your app to work offline and load faster, you can change\r\n  // unregister() to register() below. Note this comes with some pitfalls.\r\n  // Learn more about service workers: http://bit.ly/CRA-PWA\r\n  serviceWorker.register()\r\n} else {\r\n  render(<AppRouter />, rootElement)\r\n}\r\n*/\r\n"],"sourceRoot":""}