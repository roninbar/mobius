(this.webpackJsonpmobius=this.webpackJsonpmobius||[]).push([[0],{16:function(r,e,t){r.exports=t(24)},22:function(r,e,t){},23:function(r,e,t){},24:function(r,e,t){"use strict";t.r(e);var o,n,i,a,u,c,l=t(1),f=t.n(l),s=t(4),m=t.n(s),h=t(2),v=t(8),p=t(6),g=t.n(p),d=t(9),E=t(5),M=t(0),T=(t(22),String.raw),b=M.c.normalize(M.c.create(),M.c.fromValues(.85,1,.75)),x=[0,0,0],P=[0,0,1],C=[0,.75,0],w=[1,0,0],R=[1,.8,.5],_=[.75,.75,.75],y=[1,1,1],A=[.25,.25,.25],I=[.5,.5,.5],U=[I,I,I,I],N=.1,B=Math.PI/36;function L(){var r=Object(l.useState)(0),e=Object(E.a)(r,2),t=e[0],s=e[1],m=Object(l.useState)(),v=Object(E.a)(m,2),p=v[0],I=v[1],U=Object(l.useState)(M.b.create()),L=Object(E.a)(U,2),V=L[0],k=L[1],W=Object(l.useRef)(null),H=Object(l.useRef)(null),Y=Object(l.useRef)(null),K=Object(l.useRef)(null);Object(l.useEffect)((function(){var r,e=null===(r=K.current)||void 0===r?void 0:r.getContext("webgl");if(!e)throw new Error("Failed to get a WebGL context.");var t=function(){var r=Object(d.a)(g.a.mark((function r(){var t,o,n,i,a,u,c,l,f,s,m,h,v;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=[],o=0,n=[e.TEXTURE20,e.TEXTURE21,e.TEXTURE22,e.TEXTURE23];case 2:if(!(o<n.length)){r.next=13;break}if(i=n[o],e.activeTexture(i),a=e.createTexture()){r.next=8;break}throw new Error("Failed to create texture.");case 8:e.bindTexture(e.TEXTURE_2D,a),t.push(S(e,"".concat("/mobius","/texture/hours").concat(i-e.TEXTURE20,".bmp")));case 10:o++,r.next=2;break;case 13:if(e.activeTexture(e.TEXTURE10),u=e.createTexture()){r.next=17;break}throw new Error("Failed to create texture.");case 17:if(e.bindTexture(e.TEXTURE_2D,u),t.push(S(e,"".concat("/mobius","/texture/mobius.png"))),e.activeTexture(e.TEXTURE0),c=e.createTexture()){r.next=23;break}throw new Error("Failed to create texture.");case 23:for(l=0,f=["X","Y","Z"];l<f.length;l++)for(s=f[l],m=0,h=["NEGATIVE","POSITIVE"];m<h.length;m++)v=h[m],e.bindTexture(e.TEXTURE_CUBE_MAP,c),t.push(S(e,"".concat("/mobius","/texture/env/").concat(v.slice(0,3).toLowerCase(),"-").concat(s.toLowerCase(),".jpg"),"TEXTURE_CUBE_MAP_".concat(v,"_").concat(s)));return r.abrupt("return",Promise.all(t));case 25:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),l=W.current=function(r){var e=T(o||(o=Object(h.a)(["\n    // Uniforms\n    uniform mat4 ",";\n    uniform mat4 ",";\n    uniform mat4 ",";\n    uniform mat4 ",";\n    uniform lowp vec4 ",";\n    // Attributes\n    attribute vec4 ",";\n    attribute vec3 ",";\n    // Varyings\n    varying highp vec3 ",";\n    // Program\n    void main(void) {\n      "," = normalize("," * "," * vec4(",", 0)).xyz;\n      gl_Position = "," * "," * "," * ",";\n    }\n  "])),"uModelMatrix","uNormalMatrix","uViewMatrix","uProjectionMatrix","uColor","aPosition","aNormal","vNormal","vNormal","uViewMatrix","uNormalMatrix","aNormal","uProjectionMatrix","uViewMatrix","uModelMatrix","aPosition"),t=T(n||(n=Object(h.a)(["\n    // Uniforms\n    uniform highp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp float ",";\n    uniform lowp vec4 ",";\n    // Varyings\n    varying highp vec3 ",";\n    // Program\n    void main(void) {\n      highp vec3 n = normalize(",");\n      highp vec3 u = ",";\n      highp vec3 v = -reflect(u, n); // Reflection direction\n      lowp float Id = max(0.0, (gl_FrontFacing ? +1.0 : -1.0) * dot(u, n)); // Diffuse intensity\n      lowp float Is = v[2] < 0.0 ? 0.0 : pow(v[2], ","); // Specular intensity\n      gl_FragColor = "," * vec4("," + Id * ",", 1.0) + Is * vec4(",", 1.0);\n    }\n  "])),"uLightDirection","uCa","uCd","uCs","uSpecularity","uColor","vNormal","vNormal","uLightDirection","uSpecularity","uColor","uCa","uCd","uCs"),i=G(r,e,t);return{program:i,attribs:{position:r.getAttribLocation(i,"aPosition"),normal:r.getAttribLocation(i,"aNormal")},uniforms:{matrices:{projection:z(r,i,"uProjectionMatrix"),view:z(r,i,"uViewMatrix"),model:z(r,i,"uModelMatrix"),normal:z(r,i,"uNormalMatrix")},light:{direction:z(r,i,"uLightDirection"),ambientColor:z(r,i,"uCa"),diffuseColor:z(r,i,"uCd"),specularColor:z(r,i,"uCs"),specularity:z(r,i,"uSpecularity")},color:z(r,i,"uColor")}}}(e),f=l.program,m=l.uniforms,v=H.current=function(r){var e=T(i||(i=Object(h.a)(["\n    // Attributes\n    attribute vec4 ",";\n    attribute vec3 ",";\n    attribute vec2 ",";\n    // Uniforms\n    uniform mat4 ",";\n    uniform mat4 ",";\n    uniform mat4 ",";\n    uniform mat4 ",";\n    uniform mat3 ",";\n    // Varyings\n    varying highp vec3 ",";\n    varying highp vec3 ",";\n    // Program\n    void main(void) {\n      gl_Position = "," * "," * "," * ",";\n      "," = normalize("," * "," * vec4(",", 0)).xyz;\n      "," = "," * vec3(",", 1);\n    }\n  "])),"aPosition","aNormal","aTextureCoords","uProjectionMatrix","uViewMatrix","uModelMatrix","uNormalMatrix","uTextureMatrix","vNormal","vTextureCoords","uProjectionMatrix","uViewMatrix","uModelMatrix","aPosition","vNormal","uViewMatrix","uNormalMatrix","aNormal","vTextureCoords","uTextureMatrix","aTextureCoords"),t=T(a||(a=Object(h.a)(["\n    // Varyings\n    varying highp vec3 ",";\n    varying highp vec3 ",";\n    // Uniforms\n    uniform highp vec4 ",";\n    uniform highp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp float ",";\n    uniform sampler2D ",";\n    // Program\n    void main(void) {\n      // Apply lighting\n      highp vec3 n = normalize(",");\n      highp vec3 u = ","; // Light direction\n      highp vec3 v = -reflect(u, n); // Reflection direction\n      lowp float Id = max(0.0, (gl_FrontFacing ? +1.0 : -1.0) * dot(u, ",")); // Diffuse intensity\n      lowp float Is = v[2] < 0.0 ? 0.0 : pow(v[2], ","); // Specular intensity\n      gl_FragColor = "," * texture2D(",", ",".xy) * vec4("," + Id * ",", 1.0) + Is * vec4(",", 1.0);\n    }\n  "])),"vNormal","vTextureCoords","uColor","uLightDirection","uCa","uCd","uCs","uSpecularity","uSampler","vNormal","uLightDirection","vNormal","uSpecularity","uColor","uSampler","vTextureCoords","uCa","uCd","uCs"),o=G(r,e,t);return{program:o,attribs:{position:r.getAttribLocation(o,"aPosition"),normal:r.getAttribLocation(o,"aNormal"),textureCoords:r.getAttribLocation(o,"aTextureCoords")},uniforms:{matrices:{projection:z(r,o,"uProjectionMatrix"),view:z(r,o,"uViewMatrix"),model:z(r,o,"uModelMatrix"),normal:z(r,o,"uNormalMatrix"),texture:z(r,o,"uTextureMatrix")},light:{direction:z(r,o,"uLightDirection"),ambientColor:z(r,o,"uCa"),diffuseColor:z(r,o,"uCd"),specularColor:z(r,o,"uCs"),specularity:z(r,o,"uSpecularity")},sampler:z(r,o,"uSampler"),color:z(r,o,"uColor")}}}(e),p=v.program,E=v.uniforms,M=Y.current=function(r){var e=T(u||(u=Object(h.a)(["\n    // Uniforms\n    uniform mat4 ",";\n    uniform mat4 ",";\n    uniform mat4 ",";\n    uniform mat4 ",";\n    // Attributes\n    attribute vec4 ",";\n    attribute vec3 ",";\n    // Varyings\n    varying highp vec3 ",";\n    // Program\n    void main(void) {\n      "," = normalize("," * "," * vec4(",", 0)).xyz;\n      gl_Position = "," * "," * "," * ",";\n    }\n  "])),"uProjectionMatrix","uViewMatrix","uModelMatrix","uNormalMatrix","aPosition","aNormal","vNormal","vNormal","uViewMatrix","uNormalMatrix","aNormal","uProjectionMatrix","uViewMatrix","uModelMatrix","aPosition"),t=T(c||(c=Object(h.a)(["\n    #define PI 3.1415926538\n\n    // Uniforms\n    uniform highp vec4 ",";\n    uniform highp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp float ",";\n    uniform samplerCube ",";\n    // Varyings\n    varying highp vec3 ",";\n    // Program\n    void main(void) {\n      highp vec3 n = normalize(",");\n      highp vec3 u = ",";\n      highp vec3 v = -reflect(u, n);\n      highp vec3 w = -reflect(vec3(0, 0, 1), n);\n      lowp float Ir = 1.0 - pow(max(0.0, (gl_FrontFacing ? +1.0 : -1.0) * n.z), 32.0); // Reflection intensity\n      lowp float Is = v.z < 0.0 ? 0.0 : pow(v.z, ","); // Specular intensity\n      gl_FragColor = Ir * "," * textureCube(",", w) + Is * vec4(",", 1.0);\n    }\n  "])),"uColor","uLightDirection","uCa","uCd","uCs","uSpecularity","uSampler","vNormal","vNormal","uLightDirection","uSpecularity","uColor","uSampler","uCs"),o=G(r,e,t);return{program:o,attribs:{position:r.getAttribLocation(o,"aPosition"),normal:r.getAttribLocation(o,"aNormal")},uniforms:{matrices:{projection:z(r,o,"uProjectionMatrix"),view:z(r,o,"uViewMatrix"),model:z(r,o,"uModelMatrix"),normal:z(r,o,"uNormalMatrix")},color:z(r,o,"uColor"),light:{direction:z(r,o,"uLightDirection"),specularColor:z(r,o,"uCs"),specularity:z(r,o,"uSpecularity")},sampler:z(r,o,"uSampler")}}}(e),x=M.program,P=M.uniforms;e.useProgram(f),e.uniform3fv(m.light.direction,b),e.uniform3fv(m.light.ambientColor,A),e.uniform3fv(m.light.diffuseColor,y),e.uniform3fv(m.light.specularColor,y),e.uniform1f(m.light.specularity,10),e.useProgram(p),e.uniform3fv(E.light.direction,b),e.uniform3fv(E.light.ambientColor,A),e.uniform3fv(E.light.diffuseColor,y),e.uniform3fv(E.light.specularColor,y),e.uniform1f(E.light.specularity,10),e.useProgram(x),e.uniform3fv(P.light.direction,b),e.uniform3fv(P.light.specularColor,y),e.uniform1f(P.light.specularity,10),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clearDepth(1),e.clearColor(0,0,0,1),e.enable(e.CULL_FACE),e.cullFace(e.BACK),t().then((function(){e.activeTexture(e.TEXTURE0),e.generateMipmap(e.TEXTURE_CUBE_MAP),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR);for(var r=0,t=[e.TEXTURE10,e.TEXTURE20,e.TEXTURE21,e.TEXTURE22,e.TEXTURE23];r<t.length;r++){var o=t[r];e.activeTexture(o),e.generateMipmap(e.TEXTURE_2D),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR)}}));var C=requestAnimationFrame((function r(e){var t=new Date;s(((t.getSeconds()/60+t.getMinutes())/60+t.getHours())/6*Math.PI),C=requestAnimationFrame(r)}));return function(){cancelAnimationFrame(C)}}),[]),Object(l.useEffect)((function(){var r,e=null===(r=K.current)||void 0===r?void 0:r.getContext("webgl");if(!e)throw new Error("Failed to get a WebGL context.");if(!W.current||!H.current||!Y.current)throw new Error("Missing shader program!");var o=W.current,n=o.program,i=o.attribs,a=o.uniforms,u=H.current,c=u.program,l=u.attribs,f=u.uniforms,s=Y.current,m=s.program,h=s.attribs,v=s.uniforms,p=M.b.perspective(M.b.create(),Math.PI/5,e.canvas.width/e.canvas.height,.1,100),g=M.b.fromTranslation(M.b.create(),[0,0,-4]),d=M.a.create();e.useProgram(n),e.uniformMatrix4fv(a.matrices.projection,!1,p),e.uniformMatrix4fv(a.matrices.view,!1,g),e.useProgram(c),e.uniformMatrix4fv(f.matrices.projection,!1,p),e.uniformMatrix4fv(f.matrices.view,!1,g),e.useProgram(m),e.uniformMatrix4fv(v.matrices.projection,!1,p),e.uniformMatrix4fv(v.matrices.view,!1,g);var E=function(r){var t=r.topology,o=r.positionBuffer,n=r.normalBuffer,a=r.colorBuffer;try{D(e,t,i.position,o,i.normal,n)}finally{a&&e.deleteBuffer(a),n&&e.deleteBuffer(n),o&&e.deleteBuffer(o)}},T=function(r){var t=r.topology,o=r.positionBuffer,n=r.normalBuffer,i=r.colorBuffer,a=r.textureCoordBuffer;try{D(e,t,l.position,o,l.normal,n,l.textureCoords,a)}finally{a&&e.deleteBuffer(a),i&&e.deleteBuffer(i),n&&e.deleteBuffer(n),o&&e.deleteBuffer(o)}};e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.cullFace(e.FRONT),e.useProgram(n),e.uniformMatrix4fv(a.matrices.model,!1,M.b.scale(M.b.create(),V,[1.2,1.2,1])),e.uniformMatrix4fv(a.matrices.normal,!1,M.b.scale(M.b.create(),V,[1/1.2,1/1.2,1])),E(O(e)),e.cullFace(e.BACK);var I=M.b.translate(M.b.create(),V,[0,0,-N]),U=M.a.scale(M.a.create(),M.a.translate(M.a.create(),d,[.5,.5]),[.75,-.75]);e.useProgram(c),e.uniform4fv(f.color,[].concat(y,[1])),e.uniform3fv(f.light.direction,b),e.uniform3fv(f.light.ambientColor,A),e.uniform3fv(f.light.diffuseColor,y),e.uniform3fv(f.light.specularColor,x),e.uniform1f(f.light.specularity,10),e.uniformMatrix4fv(f.matrices.model,!1,M.b.scale(M.b.create(),I,[1.199,1.199,1])),e.uniformMatrix4fv(f.matrices.normal,!1,M.b.scale(M.b.create(),I,[1/1.2,1/1.2,1])),e.uniformMatrix3fv(f.matrices.texture,!1,U),e.uniform1i(f.sampler,10),T(function(r){for(var e=[],t=[0,0,0],o=[].concat(_),n=[0,0,1],i=[0,0],a=0,u=1,c=0;c<2*Math.PI+.001;c+=B,u++){var l=1*Math.cos(c),f=1*Math.sin(c);t.push(l,f,0),n.push(0,0,1),o.push.apply(o,_),i.push(l/1,f/1)}return e.push({mode:r.TRIANGLE_FAN,first:a,count:u-a}),a=u,{topology:e,positionBuffer:j(r,t),normalBuffer:j(r,n),colorBuffer:j(r,o),textureCoordBuffer:j(r,i)}}(e)),e.useProgram(c),e.uniform3fv(f.light.direction,b),e.uniform3fv(f.light.ambientColor,A),e.uniform3fv(f.light.diffuseColor,y),e.uniform3fv(f.light.specularColor,y),e.uniform1f(f.light.specularity,12),e.uniform4fv(f.color,[].concat(R,[1])),e.uniformMatrix4fv(f.matrices.model,!1,V),e.uniformMatrix3fv(f.matrices.texture,!1,d);for(var L=0;L<4;L++)e.uniform1i(f.sampler,20+L),T(X(e,t,L));e.useProgram(n),e.uniform3fv(a.light.direction,b),e.uniform3fv(a.light.ambientColor,A),e.uniform3fv(a.light.diffuseColor,y),e.uniform3fv(a.light.specularColor,x);var S=function(r,t,o,n){var i=M.b.rotateZ(M.b.create(),V,-n);e.uniformMatrix4fv(a.matrices.model,!1,i),e.uniformMatrix4fv(a.matrices.normal,!1,i),E(function(r,e,t,o){return{topology:[{mode:r.TRIANGLE_STRIP,first:0,count:4}],positionBuffer:j(r,[-t,-.2*o,e,+t,-.2*o,e,-t,o,e,+t,o,e]),normalBuffer:j(r,[0,0,1,0,0,1,0,0,1,0,0,1]),colorBuffer:j(r,[].concat(_,_,_,_))}}(e,r,t,o))};e.uniform1f(a.light.specularity,1),e.uniform4fv(a.color,[].concat(P,[1])),S(.03,.02,.6,t),e.uniform4fv(a.color,[].concat(C,[1])),S(.06,.02,.8,12*t),e.uniform4fv(a.color,[].concat(w,[1])),S(.09,.01,.85,12*t*60),e.useProgram(n),e.uniformMatrix4fv(a.matrices.model,!1,V),e.uniformMatrix4fv(a.matrices.normal,!1,V),e.uniform3fv(a.light.specularColor,y),e.uniform1f(a.light.specularity,10),e.uniform4fv(a.color,[].concat(w,[1])),E(function(r,e){for(var t=.05,o=.01,n=Math.sqrt(t*t+o*o),i=t/n,a=o/n,u=[0,0,e+o],c=[0,0,1],l=[].concat(_),f=0;f<2*Math.PI;f+=Math.PI/30)u.push(t*Math.cos(f),t*Math.sin(f),e),c.push(a*Math.cos(f),a*Math.sin(f),i),l.push.apply(l,_);var s=u.length/3;return{topology:[{mode:r.TRIANGLE_FAN,first:0,count:s}],positionBuffer:j(r,u),normalBuffer:j(r,c),colorBuffer:j(r,l)}}(e,.12)),e.useProgram(n),e.uniform4fv(a.color,[].concat(R,[1])),e.uniform1f(a.light.specularity,32);var k=M.b.rotateX(M.b.create(),M.b.translate(M.b.create(),V,[0,0,-N]),Math.PI);e.useProgram(n),e.uniformMatrix4fv(a.matrices.model,!1,M.b.scale(M.b.create(),k,[1.2,1.2,.24])),e.uniformMatrix4fv(a.matrices.normal,!1,M.b.scale(M.b.create(),k,[1/1.2,1/1.2,1/.24])),E(F(e));var G=M.c.fromValues(1.2,1.2,1);e.useProgram(n),e.uniformMatrix4fv(a.matrices.model,!1,M.b.scale(M.b.create(),V,G)),e.uniformMatrix4fv(a.matrices.normal,!1,M.b.scale(M.b.create(),V,M.c.inverse(M.c.create(),G))),E(O(e));var z=M.b.translate(M.b.create(),V,[0,0,.1]),q=M.c.fromValues(1.2,1.2,.24);e.useProgram(m),e.uniformMatrix4fv(v.matrices.model,!1,M.b.scale(M.b.create(),z,q)),e.uniformMatrix4fv(v.matrices.normal,!1,M.b.scale(M.b.create(),z,M.c.inverse(M.c.create(),q))),e.uniform4fv(v.color,[].concat(y,[.25])),e.uniform1f(v.light.specularity,128),e.uniform1i(v.sampler,0),function(r){var t=r.topology,o=r.positionBuffer,n=r.normalBuffer;try{D(e,t,h.position,o,h.normal,n)}finally{n&&e.deleteBuffer(n),o&&e.deleteBuffer(o)}}(F(e))}),[t,V]);return f.a.createElement("div",{className:"App"},f.a.createElement("header",{className:"App-header"},f.a.createElement("h2",null,"M\xf6bius Clock"),f.a.createElement("canvas",{width:"768px",height:"768px",ref:K,onPointerDown:function(r){var e=r.currentTarget,t=r.pointerId,o=r.clientX,n=r.clientY;e.setPointerCapture(t),I({x:o,y:n})},onPointerMove:function(r){var e=r.clientX,t=r.clientY;if(p){var o=e-p.x,n=t-p.y,i=Math.sqrt(o*o+n*n);if(i>0){var a=M.b.fromRotation(M.b.create(),.01*i,[n,o,0]);k(M.b.mul(M.b.create(),a,V)),I({x:e,y:t})}}},onPointerUp:function(r){var e=r.currentTarget,t=r.pointerId;I(null),e.releasePointerCapture(t)}}),f.a.createElement("p",null,"Use mouse or touch to roll the clock around.")))}function S(r,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"TEXTURE_2D";return new Promise((function(o){var n=r.getParameter(r.ACTIVE_TEXTURE),i=new Image;i.src=e,i.addEventListener("load",(function(){return r.activeTexture(n),r.texImage2D(r[t],0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,i),o()}))}))}function F(r){for(var e=[],t=[0,0,1],o=[0,0,1],n=[].concat(R),i=0,a=1,u=1*Math.sin(B),c=1*Math.cos(B),l=-Math.PI;l<Math.PI+.001;l+=B,a++){var f=u*Math.cos(l),s=u*Math.sin(l);t.push(f,s,c),o.push(f,s,c),n.push.apply(n,R)}e.push({mode:r.TRIANGLE_FAN,first:i,count:a-i}),i=a;for(var m=B;m<.5*Math.PI-.001;m+=B){for(var h=1*Math.sin(m),v=1*Math.sin(m+B),p=1*Math.cos(m),g=1*Math.cos(m+B),d=-Math.PI;d<Math.PI+.001;d+=B,a+=2){var E=h*Math.cos(d),M=v*Math.cos(d),T=h*Math.sin(d),b=v*Math.sin(d);t.push(E,T,p),o.push(E,T,p),n.push.apply(n,R),t.push(M,b,g),o.push(M,b,g),n.push.apply(n,R)}e.push({mode:r.TRIANGLE_STRIP,first:i,count:a-i}),i=a}return{topology:e,positionBuffer:j(r,t),normalBuffer:j(r,o),colorBuffer:j(r,n)}}function O(r){for(var e=[],t=[],o=[],n=[],i=0;i<2*Math.PI+.001;i+=B)t.push(1*Math.cos(i),1*Math.sin(i),.1),o.push(Math.cos(i),Math.sin(i),0),n.push.apply(n,R),t.push(1*Math.cos(i),1*Math.sin(i),-N),o.push(Math.cos(i),Math.sin(i),0),n.push.apply(n,R);return e.push({mode:r.TRIANGLE_STRIP,first:0,count:t.length/3}),{topology:e,positionBuffer:j(r,t),normalBuffer:j(r,o),colorBuffer:j(r,n)}}function X(r,e,t){var o=function(r,e){for(var t=[],o=[],n=[],i=[],a=0;a<1.001;a+=.033333){var u=(e+a)*Math.PI,c=1.5*(u-r),l=Math.cos(u),f=Math.sin(u),s=Math.cos(c),m=Math.sin(c),h=1+N*Math.cos(c),v=1-N*Math.cos(c);o.push(h*Math.sin(u),h*Math.cos(u),-N*Math.sin(c)),o.push(v*Math.sin(u),v*Math.cos(u),.1*Math.sin(c)),n.push(-f*m,-l*m,l*l*s+s*f*f),n.push(-f*m,-l*m,l*l*s+s*f*f);for(var p=[0,0,0],g=0;g<3;g++)p[g]=(1-a)*U[e][g]+a*U[(e+1)%U.length][g];i.push.apply(i,p.concat(p)),t.push(a,0,a,1)}return{positions:o,normals:n,colors:i,textureCoords:t}}(e,t),n=o.positions,i=o.normals,a=o.colors,u=o.textureCoords;return{topology:[{mode:r.TRIANGLE_STRIP,first:0,count:n.length/3}],positionBuffer:j(r,n),normalBuffer:j(r,i),colorBuffer:j(r,a),textureCoordBuffer:j(r,u)}}function j(r,e){var t=r.createBuffer();if(!t)throw new Error("Failed to create buffer.");return r.bindBuffer(r.ARRAY_BUFFER,t),r.bufferData(r.ARRAY_BUFFER,new Float32Array(e),r.STATIC_DRAW),t}function D(r,e,t,o,n,i,a,u){V(r,t,o,3,r.FLOAT),i&&"number"===typeof n&&V(r,n,i,3,r.FLOAT),u&&"number"===typeof a&&V(r,a,u,2,r.FLOAT);try{var c,l=Object(v.a)(e);try{for(l.s();!(c=l.n()).done;){var f=c.value,s=f.mode,m=f.first,h=f.count;r.drawArrays(s,m,h)}}catch(p){l.e(p)}finally{l.f()}}finally{u&&"number"===typeof a&&k(r,a),i&&"number"===typeof n&&k(r,n),k(r,t)}}function V(r,e,t,o,n){r.bindBuffer(r.ARRAY_BUFFER,t),r.vertexAttribPointer(e,o,n,!1,0,0),r.enableVertexAttribArray(e)}function k(r,e){r.disableVertexAttribArray(e)}function G(r,e,t){var o=r.createProgram();if(!o)throw new Error("Failed to create program.");if(r.attachShader(o,W(r,r.VERTEX_SHADER,e)),r.attachShader(o,W(r,r.FRAGMENT_SHADER,t)),r.linkProgram(o),!r.getProgramParameter(o,r.LINK_STATUS)){var n="Unable to initialize the shader program: ".concat(r.getProgramInfoLog(o));throw r.deleteProgram(o),new Error(n)}return o}function W(r,e,t){var o=r.createShader(e);if(!o)throw new Error("Failed to create shader.");if(r.shaderSource(o,t),r.compileShader(o),!r.getShaderParameter(o,r.COMPILE_STATUS)){var n="An error occurred compiling the shaders: ".concat(r.getShaderInfoLog(o));throw r.deleteShader(o),new Error(n)}return o}function z(r,e,t){return r.getUniformLocation(e,t)||function(r){throw new Error(r)}('No uniform named "'.concat(t,'" was found.'))}t(23);var H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Y(r,e){navigator.serviceWorker.register(r).then((function(r){r.onupdatefound=function(){var t=r.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(r)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(r)))})}})).catch((function(r){console.error("Error during service worker registration:",r)}))}m.a.render(f.a.createElement(L,null),document.getElementById("root"));var K=document.getElementById("root");K&&K.hasChildNodes()?(Object(s.hydrate)(f.a.createElement(L,null),K),function(r){if(console.debug(Object({NODE_ENV:"production",PUBLIC_URL:"/mobius",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})),"serviceWorker"in navigator){if(new URL("/mobius",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/mobius","/service-worker.js");H?(!function(r,e){fetch(r,{headers:{"Service-Worker":"script"}}).then((function(t){var o=t.headers.get("content-type");404===t.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(r){r.unregister().then((function(){window.location.reload()}))})):Y(r,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,r),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Y(e,r)}))}}()):Object(s.render)(f.a.createElement(L,null),K);window.addEventListener("beforeinstallprompt",(function(r){r})),window.addEventListener("appinstalled",(function(r){null}))}},[[16,1,2]]]);
//# sourceMappingURL=main.b48948c1.chunk.js.map