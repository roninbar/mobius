(this.webpackJsonpmobius=this.webpackJsonpmobius||[]).push([[0],{16:function(r,e,t){r.exports=t(24)},22:function(r,e,t){},23:function(r,e,t){},24:function(r,e,t){"use strict";t.r(e);var o,a,i,n,u,c,l=t(1),f=t.n(l),m=t(7),s=t.n(m),h=t(2),v=t(8),p=t(5),g=t.n(p),M=t(9),d=t(4),E=t(0),T=(t(22),String.raw),x=E.c.normalize(E.c.create(),E.c.fromValues(.85,1,.75)),b=[0,0,0],P=[0,0,1],C=[0,.75,0],R=[1,0,0],_=[1,.8,.5],y=[.75,.75,.75],A=[1,1,1],w=[.25,.25,.25],I=[.5,.5,.5],U=[I,I,I,I],B=.1,N=Math.PI/36;function L(){var r=Object(l.useState)(0),e=Object(d.a)(r,2),t=e[0],m=e[1],s=Object(l.useState)(),v=Object(d.a)(s,2),p=v[0],I=v[1],U=Object(l.useState)(E.b.create()),L=Object(d.a)(U,2),V=L[0],G=L[1],k=Object(l.useRef)(null),W=Object(l.useRef)(null),Y=Object(l.useRef)(null),q=Object(l.useRef)(null);Object(l.useEffect)((function(){var r,e=null===(r=q.current)||void 0===r?void 0:r.getContext("webgl");if(!e)throw new Error("Failed to get a WebGL context.");var t=function(){var r=Object(M.a)(g.a.mark((function r(){var t,o,a,i,n,u,c,l,f,m,s,h,v;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=[],o=0,a=[e.TEXTURE20,e.TEXTURE21,e.TEXTURE22,e.TEXTURE23];case 2:if(!(o<a.length)){r.next=13;break}if(i=a[o],e.activeTexture(i),n=e.createTexture()){r.next=8;break}throw new Error("Failed to create texture.");case 8:e.bindTexture(e.TEXTURE_2D,n),t.push(S(e,"".concat("/mobius","/texture/hours").concat(i-e.TEXTURE20,".bmp")));case 10:o++,r.next=2;break;case 13:if(e.activeTexture(e.TEXTURE10),u=e.createTexture()){r.next=17;break}throw new Error("Failed to create texture.");case 17:if(e.bindTexture(e.TEXTURE_2D,u),t.push(S(e,"".concat("/mobius","/texture/mobius.png"))),e.activeTexture(e.TEXTURE0),c=e.createTexture()){r.next=23;break}throw new Error("Failed to create texture.");case 23:for(l=0,f=["X","Y","Z"];l<f.length;l++)for(m=f[l],s=0,h=["NEGATIVE","POSITIVE"];s<h.length;s++)v=h[s],e.bindTexture(e.TEXTURE_CUBE_MAP,c),t.push(S(e,"".concat("/mobius","/texture/env/").concat(v.slice(0,3).toLowerCase(),"-").concat(m.toLowerCase(),".jpg"),"TEXTURE_CUBE_MAP_".concat(v,"_").concat(m)));return r.abrupt("return",Promise.all(t));case 25:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),l=k.current=function(r){var e=T(o||(o=Object(h.a)(["\n    // Uniforms\n    uniform mat4 ",";\n    uniform mat4 ",";\n    uniform mat4 ",";\n    uniform mat4 ",";\n    uniform lowp vec4 ",";\n    // Attributes\n    attribute vec4 ",";\n    attribute vec3 ",";\n    // Varyings\n    varying highp vec3 ",";\n    // Program\n    void main(void) {\n      "," = normalize("," * "," * vec4(",", 0)).xyz;\n      gl_Position = "," * "," * "," * ",";\n    }\n  "])),"uModelMatrix","uNormalMatrix","uViewMatrix","uProjectionMatrix","uColor","aPosition","aNormal","vNormal","vNormal","uViewMatrix","uNormalMatrix","aNormal","uProjectionMatrix","uViewMatrix","uModelMatrix","aPosition"),t=T(a||(a=Object(h.a)(["\n    // Uniforms\n    uniform highp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp float ",";\n    uniform lowp vec4 ",";\n    // Varyings\n    varying highp vec3 ",";\n    // Program\n    void main(void) {\n      highp vec3 n = normalize(",");\n      highp vec3 u = ",";\n      highp vec3 v = -reflect(u, n); // Reflection direction\n      lowp float Id = max(0.0, (gl_FrontFacing ? +1.0 : -1.0) * dot(u, n)); // Diffuse intensity\n      lowp float Is = v[2] < 0.0 ? 0.0 : pow(v[2], ","); // Specular intensity\n      gl_FragColor = "," * vec4("," + Id * ",", 1.0) + Is * vec4(",", 1.0);\n    }\n  "])),"uLightDirection","uCa","uCd","uCs","uSpecularity","uColor","vNormal","vNormal","uLightDirection","uSpecularity","uColor","uCa","uCd","uCs"),i=z(r,e,t);return{program:i,attribs:{position:r.getAttribLocation(i,"aPosition"),normal:r.getAttribLocation(i,"aNormal")},uniforms:{matrices:{projection:H(r,i,"uProjectionMatrix"),view:H(r,i,"uViewMatrix"),model:H(r,i,"uModelMatrix"),normal:H(r,i,"uNormalMatrix")},light:{direction:H(r,i,"uLightDirection"),ambientColor:H(r,i,"uCa"),diffuseColor:H(r,i,"uCd"),specularColor:H(r,i,"uCs"),specularity:H(r,i,"uSpecularity")},color:H(r,i,"uColor")}}}(e),f=l.program,s=l.uniforms,v=W.current=function(r){var e=T(i||(i=Object(h.a)(["\n    // Attributes\n    attribute vec4 ",";\n    attribute vec3 ",";\n    attribute vec2 ",";\n    // Uniforms\n    uniform mat4 ",";\n    uniform mat4 ",";\n    uniform mat4 ",";\n    uniform mat4 ",";\n    uniform mat3 ",";\n    // Varyings\n    varying highp vec3 ",";\n    varying highp vec3 ",";\n    // Program\n    void main(void) {\n      gl_Position = "," * "," * "," * ",";\n      "," = normalize("," * "," * vec4(",", 0)).xyz;\n      "," = "," * vec3(",", 1);\n    }\n  "])),"aPosition","aNormal","aTextureCoords","uProjectionMatrix","uViewMatrix","uModelMatrix","uNormalMatrix","uTextureMatrix","vNormal","vTextureCoords","uProjectionMatrix","uViewMatrix","uModelMatrix","aPosition","vNormal","uViewMatrix","uNormalMatrix","aNormal","vTextureCoords","uTextureMatrix","aTextureCoords"),t=T(n||(n=Object(h.a)(["\n    // Varyings\n    varying highp vec3 ",";\n    varying highp vec3 ",";\n    // Uniforms\n    uniform highp vec4 ",";\n    uniform highp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp float ",";\n    uniform sampler2D ",";\n    // Program\n    void main(void) {\n      // Apply lighting\n      highp vec3 n = normalize(",");\n      highp vec3 u = ","; // Light direction\n      highp vec3 v = -reflect(u, n); // Reflection direction\n      lowp float Id = max(0.0, (gl_FrontFacing ? +1.0 : -1.0) * dot(u, ",")); // Diffuse intensity\n      lowp float Is = v[2] < 0.0 ? 0.0 : pow(v[2], ","); // Specular intensity\n      gl_FragColor = "," * texture2D(",", ",".xy) * vec4("," + Id * ",", 1.0) + Is * vec4(",", 1.0);\n    }\n  "])),"vNormal","vTextureCoords","uColor","uLightDirection","uCa","uCd","uCs","uSpecularity","uSampler","vNormal","uLightDirection","vNormal","uSpecularity","uColor","uSampler","vTextureCoords","uCa","uCd","uCs"),o=z(r,e,t);return{program:o,attribs:{position:r.getAttribLocation(o,"aPosition"),normal:r.getAttribLocation(o,"aNormal"),textureCoords:r.getAttribLocation(o,"aTextureCoords")},uniforms:{matrices:{projection:H(r,o,"uProjectionMatrix"),view:H(r,o,"uViewMatrix"),model:H(r,o,"uModelMatrix"),normal:H(r,o,"uNormalMatrix"),texture:H(r,o,"uTextureMatrix")},light:{direction:H(r,o,"uLightDirection"),ambientColor:H(r,o,"uCa"),diffuseColor:H(r,o,"uCd"),specularColor:H(r,o,"uCs"),specularity:H(r,o,"uSpecularity")},sampler:H(r,o,"uSampler"),color:H(r,o,"uColor")}}}(e),p=v.program,d=v.uniforms,E=Y.current=function(r){var e=T(u||(u=Object(h.a)(["\n    // Uniforms\n    uniform mat4 ",";\n    uniform mat4 ",";\n    uniform mat4 ",";\n    uniform mat4 ",";\n    // Attributes\n    attribute vec4 ",";\n    attribute vec3 ",";\n    // Varyings\n    varying highp vec3 ",";\n    // Program\n    void main(void) {\n      "," = normalize("," * "," * vec4(",", 0)).xyz;\n      gl_Position = "," * "," * "," * ",";\n    }\n  "])),"uProjectionMatrix","uViewMatrix","uModelMatrix","uNormalMatrix","aPosition","aNormal","vNormal","vNormal","uViewMatrix","uNormalMatrix","aNormal","uProjectionMatrix","uViewMatrix","uModelMatrix","aPosition"),t=T(c||(c=Object(h.a)(["\n    #define PI 3.1415926538\n\n    // Uniforms\n    uniform highp vec4 ",";\n    uniform highp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp vec3 ",";\n    uniform lowp float ",";\n    uniform samplerCube ",";\n    // Varyings\n    varying highp vec3 ",";\n    // Program\n    void main(void) {\n      highp vec3 n = normalize(",");\n      highp vec3 u = ",";\n      highp vec3 v = -reflect(u, n);\n      highp vec3 w = -reflect(vec3(0, 0, 1), n);\n      lowp float Ir = 1.0 - pow(max(0.0, (gl_FrontFacing ? +1.0 : -1.0) * n.z), 32.0); // Reflection intensity\n      lowp float Is = v.z < 0.0 ? 0.0 : pow(v.z, ","); // Specular intensity\n      gl_FragColor = Ir * "," * textureCube(",", w) + Is * vec4(",", 1.0);\n    }\n  "])),"uColor","uLightDirection","uCa","uCd","uCs","uSpecularity","uSampler","vNormal","vNormal","uLightDirection","uSpecularity","uColor","uSampler","uCs"),o=z(r,e,t);return{program:o,attribs:{position:r.getAttribLocation(o,"aPosition"),normal:r.getAttribLocation(o,"aNormal")},uniforms:{matrices:{projection:H(r,o,"uProjectionMatrix"),view:H(r,o,"uViewMatrix"),model:H(r,o,"uModelMatrix"),normal:H(r,o,"uNormalMatrix")},color:H(r,o,"uColor"),light:{direction:H(r,o,"uLightDirection"),specularColor:H(r,o,"uCs"),specularity:H(r,o,"uSpecularity")},sampler:H(r,o,"uSampler")}}}(e),b=E.program,P=E.uniforms;e.useProgram(f),e.uniform3fv(s.light.direction,x),e.uniform3fv(s.light.ambientColor,w),e.uniform3fv(s.light.diffuseColor,A),e.uniform3fv(s.light.specularColor,A),e.uniform1f(s.light.specularity,10),e.useProgram(p),e.uniform3fv(d.light.direction,x),e.uniform3fv(d.light.ambientColor,w),e.uniform3fv(d.light.diffuseColor,A),e.uniform3fv(d.light.specularColor,A),e.uniform1f(d.light.specularity,10),e.useProgram(b),e.uniform3fv(P.light.direction,x),e.uniform3fv(P.light.specularColor,A),e.uniform1f(P.light.specularity,10),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clearDepth(1),e.clearColor(0,0,0,1),e.enable(e.CULL_FACE),e.cullFace(e.BACK),t().then((function(){e.activeTexture(e.TEXTURE0),e.generateMipmap(e.TEXTURE_CUBE_MAP),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR);for(var r=0,t=[e.TEXTURE10,e.TEXTURE20,e.TEXTURE21,e.TEXTURE22,e.TEXTURE23];r<t.length;r++){var o=t[r];e.activeTexture(o),e.generateMipmap(e.TEXTURE_2D),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR)}}));var C=requestAnimationFrame((function r(e){var t=new Date;m(((t.getSeconds()/60+t.getMinutes())/60+t.getHours())/6*Math.PI),C=requestAnimationFrame(r)}));return function(){cancelAnimationFrame(C)}}),[]),Object(l.useEffect)((function(){var r,e=null===(r=q.current)||void 0===r?void 0:r.getContext("webgl");if(!e)throw new Error("Failed to get a WebGL context.");if(!k.current||!W.current||!Y.current)throw new Error("Missing shader program!");var o=k.current,a=o.program,i=o.attribs,n=o.uniforms,u=W.current,c=u.program,l=u.attribs,f=u.uniforms,m=Y.current,s=m.program,h=m.attribs,v=m.uniforms,p=E.b.perspective(E.b.create(),Math.PI/5,e.canvas.width/e.canvas.height,.1,100),g=E.b.fromTranslation(E.b.create(),[0,0,-4]),M=E.a.create();e.useProgram(a),e.uniformMatrix4fv(n.matrices.projection,!1,p),e.uniformMatrix4fv(n.matrices.view,!1,g),e.useProgram(c),e.uniformMatrix4fv(f.matrices.projection,!1,p),e.uniformMatrix4fv(f.matrices.view,!1,g),e.useProgram(s),e.uniformMatrix4fv(v.matrices.projection,!1,p),e.uniformMatrix4fv(v.matrices.view,!1,g);var d=function(r){var t=r.topology,o=r.positionBuffer,a=r.normalBuffer,n=r.colorBuffer;try{O(e,t,i.position,o,i.normal,a)}finally{n&&e.deleteBuffer(n),a&&e.deleteBuffer(a),o&&e.deleteBuffer(o)}},T=function(r){var t=r.topology,o=r.positionBuffer,a=r.normalBuffer,i=r.colorBuffer,n=r.textureCoordBuffer;try{O(e,t,l.position,o,l.normal,a,l.textureCoords,n)}finally{n&&e.deleteBuffer(n),i&&e.deleteBuffer(i),a&&e.deleteBuffer(a),o&&e.deleteBuffer(o)}};e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.cullFace(e.FRONT),e.useProgram(a),e.uniformMatrix4fv(n.matrices.model,!1,E.b.scale(E.b.create(),V,[1.2,1.2,1])),e.uniformMatrix4fv(n.matrices.normal,!1,E.b.scale(E.b.create(),V,[1/1.2,1/1.2,1])),d(X(e)),e.cullFace(e.BACK);var I=E.b.translate(E.b.create(),V,[0,0,-B]),U=E.a.scale(E.a.create(),E.a.translate(E.a.create(),M,[.5,.5]),[.75,-.75]);e.useProgram(c),e.uniform4fv(f.color,[].concat(A,[1])),e.uniform3fv(f.light.direction,x),e.uniform3fv(f.light.ambientColor,w),e.uniform3fv(f.light.diffuseColor,A),e.uniform3fv(f.light.specularColor,b),e.uniform1f(f.light.specularity,10),e.uniformMatrix4fv(f.matrices.model,!1,E.b.scale(E.b.create(),I,[1.199,1.199,1])),e.uniformMatrix4fv(f.matrices.normal,!1,E.b.scale(E.b.create(),I,[1/1.2,1/1.2,1])),e.uniformMatrix3fv(f.matrices.texture,!1,U),e.uniform1i(f.sampler,10),T(function(r){for(var e=[],t=[0,0,0],o=[].concat(y),a=[0,0,1],i=[0,0],n=0,u=1,c=0;c<2*Math.PI+.001;c+=N,u++){var l=1*Math.cos(c),f=1*Math.sin(c);t.push(l,f,0),a.push(0,0,1),o.push.apply(o,y),i.push(l/1,f/1)}return e.push({mode:r.TRIANGLE_FAN,first:n,count:u-n}),n=u,{topology:e,positionBuffer:j(r,t),normalBuffer:j(r,a),colorBuffer:j(r,o),textureCoordBuffer:j(r,i)}}(e)),e.useProgram(c),e.uniform3fv(f.light.direction,x),e.uniform3fv(f.light.ambientColor,w),e.uniform3fv(f.light.diffuseColor,A),e.uniform3fv(f.light.specularColor,A),e.uniform1f(f.light.specularity,12),e.uniform4fv(f.color,[].concat(_,[1])),e.uniformMatrix4fv(f.matrices.model,!1,V),e.uniformMatrix3fv(f.matrices.texture,!1,M);for(var L=0;L<4;L++)e.uniform1i(f.sampler,20+L),T(D(e,t,L));e.useProgram(a),e.uniform3fv(n.light.direction,x),e.uniform3fv(n.light.ambientColor,w),e.uniform3fv(n.light.diffuseColor,A),e.uniform3fv(n.light.specularColor,b);var S=function(r,t,o,a){var i=E.b.rotateZ(E.b.create(),V,-a);e.uniformMatrix4fv(n.matrices.model,!1,i),e.uniformMatrix4fv(n.matrices.normal,!1,i),d(function(r,e,t,o){return{topology:[{mode:r.TRIANGLE_STRIP,first:0,count:4}],positionBuffer:j(r,[-t,-.2*o,e,+t,-.2*o,e,-t,o,e,+t,o,e]),normalBuffer:j(r,[0,0,1,0,0,1,0,0,1,0,0,1]),colorBuffer:j(r,[].concat(y,y,y,y))}}(e,r,t,o))};e.uniform1f(n.light.specularity,1),e.uniform4fv(n.color,[].concat(P,[1])),S(.03,.02,.6,t),e.uniform4fv(n.color,[].concat(C,[1])),S(.06,.02,.8,12*t),e.uniform4fv(n.color,[].concat(R,[1])),S(.09,.01,.85,12*t*60),e.useProgram(a),e.uniformMatrix4fv(n.matrices.model,!1,V),e.uniformMatrix4fv(n.matrices.normal,!1,V),e.uniform3fv(n.light.specularColor,A),e.uniform1f(n.light.specularity,10),e.uniform4fv(n.color,[].concat(R,[1])),d(function(r,e){for(var t=.05,o=.01,a=Math.sqrt(t*t+o*o),i=t/a,n=o/a,u=[0,0,e+o],c=[0,0,1],l=[].concat(y),f=0;f<2*Math.PI;f+=Math.PI/30)u.push(t*Math.cos(f),t*Math.sin(f),e),c.push(n*Math.cos(f),n*Math.sin(f),i),l.push.apply(l,y);var m=u.length/3;return{topology:[{mode:r.TRIANGLE_FAN,first:0,count:m}],positionBuffer:j(r,u),normalBuffer:j(r,c),colorBuffer:j(r,l)}}(e,.12)),e.useProgram(a),e.uniform4fv(n.color,[].concat(_,[1])),e.uniform1f(n.light.specularity,32);var G=E.b.rotateX(E.b.create(),E.b.translate(E.b.create(),V,[0,0,-B]),Math.PI);e.useProgram(a),e.uniformMatrix4fv(n.matrices.model,!1,E.b.scale(E.b.create(),G,[1.2,1.2,.24])),e.uniformMatrix4fv(n.matrices.normal,!1,E.b.scale(E.b.create(),G,[1/1.2,1/1.2,1/.24])),d(F(e));var z=E.c.fromValues(1.2,1.2,1);e.useProgram(a),e.uniformMatrix4fv(n.matrices.model,!1,E.b.scale(E.b.create(),V,z)),e.uniformMatrix4fv(n.matrices.normal,!1,E.b.scale(E.b.create(),V,E.c.inverse(E.c.create(),z))),d(X(e));var H=E.b.translate(E.b.create(),V,[0,0,.1]),K=E.c.fromValues(1.2,1.2,.24);e.useProgram(s),e.uniformMatrix4fv(v.matrices.model,!1,E.b.scale(E.b.create(),H,K)),e.uniformMatrix4fv(v.matrices.normal,!1,E.b.scale(E.b.create(),H,E.c.inverse(E.c.create(),K))),e.uniform4fv(v.color,[].concat(A,[.25])),e.uniform1f(v.light.specularity,128),e.uniform1i(v.sampler,0),function(r){var t=r.topology,o=r.positionBuffer,a=r.normalBuffer;try{O(e,t,h.position,o,h.normal,a)}finally{a&&e.deleteBuffer(a),o&&e.deleteBuffer(o)}}(F(e))}),[t,V]);return f.a.createElement("div",{className:"App"},f.a.createElement("header",{className:"App-header"},f.a.createElement("h2",null,"M\xf6bius Clock"),f.a.createElement("canvas",{width:"768px",height:"768px",ref:q,onPointerDown:function(r){var e=r.currentTarget,t=r.pointerId,o=r.clientX,a=r.clientY;e.setPointerCapture(t),I({x:o,y:a})},onPointerMove:function(r){var e=r.clientX,t=r.clientY;if(p){var o=e-p.x,a=t-p.y,i=Math.sqrt(o*o+a*a);if(i>0){var n=E.b.fromRotation(E.b.create(),.01*i,[a,o,0]);G(E.b.mul(E.b.create(),n,V)),I({x:e,y:t})}}},onPointerUp:function(r){var e=r.currentTarget,t=r.pointerId;I(null),e.releasePointerCapture(t)}}),f.a.createElement("p",null,"Use your mouse or touch to roll the clock around.")))}function S(r,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"TEXTURE_2D";return new Promise((function(o){var a=r.getParameter(r.ACTIVE_TEXTURE),i=new Image;i.src=e,i.addEventListener("load",(function(){return r.activeTexture(a),r.texImage2D(r[t],0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,i),o()}))}))}function F(r){for(var e=[],t=[0,0,1],o=[0,0,1],a=[].concat(_),i=0,n=1,u=1*Math.sin(N),c=1*Math.cos(N),l=-Math.PI;l<Math.PI+.001;l+=N,n++){var f=u*Math.cos(l),m=u*Math.sin(l);t.push(f,m,c),o.push(f,m,c),a.push.apply(a,_)}e.push({mode:r.TRIANGLE_FAN,first:i,count:n-i}),i=n;for(var s=N;s<.5*Math.PI-.001;s+=N){for(var h=1*Math.sin(s),v=1*Math.sin(s+N),p=1*Math.cos(s),g=1*Math.cos(s+N),M=-Math.PI;M<Math.PI+.001;M+=N,n+=2){var d=h*Math.cos(M),E=v*Math.cos(M),T=h*Math.sin(M),x=v*Math.sin(M);t.push(d,T,p),o.push(d,T,p),a.push.apply(a,_),t.push(E,x,g),o.push(E,x,g),a.push.apply(a,_)}e.push({mode:r.TRIANGLE_STRIP,first:i,count:n-i}),i=n}return{topology:e,positionBuffer:j(r,t),normalBuffer:j(r,o),colorBuffer:j(r,a)}}function X(r){for(var e=[],t=[],o=[],a=[],i=0;i<2*Math.PI+.001;i+=N)t.push(1*Math.cos(i),1*Math.sin(i),.1),o.push(Math.cos(i),Math.sin(i),0),a.push.apply(a,_),t.push(1*Math.cos(i),1*Math.sin(i),-B),o.push(Math.cos(i),Math.sin(i),0),a.push.apply(a,_);return e.push({mode:r.TRIANGLE_STRIP,first:0,count:t.length/3}),{topology:e,positionBuffer:j(r,t),normalBuffer:j(r,o),colorBuffer:j(r,a)}}function D(r,e,t){var o=function(r,e){for(var t=[],o=[],a=[],i=[],n=0;n<1.001;n+=.033333){var u=(e+n)*Math.PI,c=1.5*(u-r),l=Math.cos(u),f=Math.sin(u),m=Math.cos(c),s=Math.sin(c),h=1+B*Math.cos(c),v=1-B*Math.cos(c);o.push(h*Math.sin(u),h*Math.cos(u),-B*Math.sin(c)),o.push(v*Math.sin(u),v*Math.cos(u),.1*Math.sin(c)),a.push(-f*s,-l*s,l*l*m+m*f*f),a.push(-f*s,-l*s,l*l*m+m*f*f);for(var p=[0,0,0],g=0;g<3;g++)p[g]=(1-n)*U[e][g]+n*U[(e+1)%U.length][g];i.push.apply(i,p.concat(p)),t.push(n,0,n,1)}return{positions:o,normals:a,colors:i,textureCoords:t}}(e,t),a=o.positions,i=o.normals,n=o.colors,u=o.textureCoords;return{topology:[{mode:r.TRIANGLE_STRIP,first:0,count:a.length/3}],positionBuffer:j(r,a),normalBuffer:j(r,i),colorBuffer:j(r,n),textureCoordBuffer:j(r,u)}}function j(r,e){var t=r.createBuffer();if(!t)throw new Error("Failed to create buffer.");return r.bindBuffer(r.ARRAY_BUFFER,t),r.bufferData(r.ARRAY_BUFFER,new Float32Array(e),r.STATIC_DRAW),t}function O(r,e,t,o,a,i,n,u){V(r,t,o,3,r.FLOAT),i&&"number"===typeof a&&V(r,a,i,3,r.FLOAT),u&&"number"===typeof n&&V(r,n,u,2,r.FLOAT);try{var c,l=Object(v.a)(e);try{for(l.s();!(c=l.n()).done;){var f=c.value,m=f.mode,s=f.first,h=f.count;r.drawArrays(m,s,h)}}catch(p){l.e(p)}finally{l.f()}}finally{u&&"number"===typeof n&&G(r,n),i&&"number"===typeof a&&G(r,a),G(r,t)}}function V(r,e,t,o,a){r.bindBuffer(r.ARRAY_BUFFER,t),r.vertexAttribPointer(e,o,a,!1,0,0),r.enableVertexAttribArray(e)}function G(r,e){r.disableVertexAttribArray(e)}function z(r,e,t){var o=r.createProgram();if(!o)throw new Error("Failed to create program.");if(r.attachShader(o,k(r,r.VERTEX_SHADER,e)),r.attachShader(o,k(r,r.FRAGMENT_SHADER,t)),r.linkProgram(o),!r.getProgramParameter(o,r.LINK_STATUS)){var a="Unable to initialize the shader program: ".concat(r.getProgramInfoLog(o));throw r.deleteProgram(o),new Error(a)}return o}function k(r,e,t){var o=r.createShader(e);if(!o)throw new Error("Failed to create shader.");if(r.shaderSource(o,t),r.compileShader(o),!r.getShaderParameter(o,r.COMPILE_STATUS)){var a="An error occurred compiling the shaders: ".concat(r.getShaderInfoLog(o));throw r.deleteShader(o),new Error(a)}return o}function H(r,e,t){return r.getUniformLocation(e,t)||function(r){throw new Error(r)}('No uniform named "'.concat(t,'" was found.'))}t(23);s.a.render(f.a.createElement(L,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.7e6ff2ee.chunk.js.map